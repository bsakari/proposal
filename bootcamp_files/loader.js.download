if(location.href.indexOf("https://groove-widget-production.s3.amazonaws.com/cache-buster.html")<0){!function(e){if(!e.console){var t=function(){};e.console={log:t,info:t,warn:t,debug:t,error:t,important:t}}e._grv={api:{},settings:{},jsonpCallbacks:{},getJsonpCallback:function(t){return e._grv.jsonpCallbacks[t]||function(){}}}}(parent.window);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},innerWindow=window;!function(e,t,o){function n(){i(),r(e.groove._widgetQueue),A&&v()}function i(){e._grvq&&!e.groove&&(e.groove={_widgetQueue:e._grvq},e._grvq.push=function(){return e.groove._widgetQueue.push(Array.prototype.slice.call(arguments)),0}),e.groove.widget=function(){a(Array.prototype.slice.call(arguments))}}function r(e){for(;e.length;)a(e.shift())}function a(t){var o=t[0],n=t.slice(1);e._grv.api[o]?e._grv.api[o].apply(this,n):s("Invalid command '\""+o+'"')}function s(t){e.console.warn("Groove: "+t)}function c(o,n,i){if(e._grv.jsonpCallbacks[n])throw new Error('JSONP callback "'+n+'" already in progress.');e._grv.jsonpCallbacks[n]=function(t){i(t),delete e._grv.jsonpCallbacks[n]};var r=t.createElement("script"),a=t.getElementsByTagName("script")[0];o.indexOf("?")<0&&(o+="?"),r.src=o+"&callback=window._grv.getJsonpCallback('"+n+"')",r.className=j,r.onload=function(e){r.onload=null,r.parentNode.removeChild(r)},a.parentNode.insertBefore(r,a)}function l(){c("https://widget-backend.groovehq.com/versions/"+O+".json?"+Date.now(),"version",p)}function d(e){B||(B=t.documentElement.getAttribute("lang")||navigator.language||navigator.userLanguage||"en",B=B.split("-",1)[0]),B="en",c("https://widget-backend.groovehq.com/settings/"+O+".json?locale="+B+"&version="+e,"settings",u)}function p(o){if(o.assets!==E){var n=t.createElement("iframe");n.className=j,n.style.cssText="display:none",n.src="https://groove-widget-production.s3.amazonaws.com/cache-buster.html#"+o.assets,t.body.appendChild(n),e.parent._grv_cache_bust_count=e.parent._grv_cache_bust_count||0;var i=function r(t){var n=t.origin||t.originalEvent.origin;if("https://groove-widget-production.s3.amazonaws.com"===n&&"grv:cache-busted"===t.data){if(e.parent._grv_cache_bust_count=e.parent._grv_cache_bust_count+1,e.parent._grv_cache_bust_count>N)return e.removeEventListener("message",r),void d(o.settings);e.removeEventListener("message",r),m(o.assets)}};e.addEventListener("message",i,!1)}else d(o.settings)}function u(e){"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var o=arguments[t];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e});var e=_extends({primaryBackgroundColor:"#3acfef",primaryForegroundColor:"#ffffff",color_scheme:"light-colors",buttonPosition:"bottom-right",buttonType:"circle",hidePoweredBy:!1},e);g(e)}function g(o){var n;o.widget_id=O,P=t.createElement("iframe"),P.src="javascript:false",P.style.visibility="hidden",P.style.opacity="0",P.style.position="fixed",P.style.top="-1000px",P.style.border="0",P.style["z-index"]="2147483647",P.className=[j,j+"-"+o.buttonPosition].join(" "),t.body.appendChild(P);try{z=P.contentWindow.document}catch(i){n=t.domain,P.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",z=P.contentWindow.document}z.open()._l=function(){n&&(this.domain=n),P.style.visibility="visible",P.style.opacity="1";for(var e=this.getElementsByTagName("body")[0],t=["//d2wy8f7a9ursnm.cloudfront.net/bugsnag-2.min.js","https://groove-widget-production.s3.amazonaws.com/common-1ca1952ba8426652b90b.js","https://groove-widget-production.s3.amazonaws.com/main-64af97b6312781003d54.js"],o=0;o<t.length;o++){var i=z.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,t[o].indexOf("bugsnag")>=0&&i.setAttribute("data-apikey","559d85a217c39ce21e23bc38c90663b7"),i.src=t[o],e.appendChild(i)}},e._grv.settings=o,z.write('<body onload="document._l();">'),z.close();var r=t.createElement("style");r.type="text/css",r.innerText=".grv-widget-tag-bottom-right {position: fixed; bottom: 15px; right: 20px} .grv-widget-tag-bottom-left {position: fixed; bottom: 15px; left: 20px} .grv-widget-app-bottom-right {position: fixed; bottom: 0; right: 0} .grv-widget-app-bottom-left {position: fixed; bottom: 0; left: 0;} .grv-widget-app {position: fixed!important; top: 0!important; right: 0!important; bottom: 0!important; width: 100%!important; height: 100%!important; box-shadow: -1.5px 0 4px rgba(0, 0, 0, .24), -1.5px 0 6px rgba(0, 0, 0, .12)!important; z-index: 2147483637!important} @media (min-width: 900px) {.grv-widget-app {width: 35%!important; max-width: 550px!important; min-width: 450px!important}}",r.className=j,t.head.appendChild(r),P.addEventListener("click",function(){}),e.addEventListener("mousemove",W),e.addEventListener("resize",q),q()}function v(){return L!=k.unloaded?void s("Widget has already been loaded. Cannot load again until widget is unloaded."):(_(k.loader),void l())}function m(e){L=k.unloaded,b();var o=t.getElementById("grv-widget"),n=t.createElement("script");n.id="grv-widget",n.innerText=o.innerText,o.parentNode.removeChild(o),t.body.appendChild(n)}function f(){e.removeEventListener("mousemove",W),e.removeEventListener("resize",q),e._grv.jsonpCallbacks={},b(),h(),L=k.unloaded}function h(){var e=t.getElementById("grv-widget");e&&e.parentNode.removeChild(e)}function b(){for(var e=t.getElementsByClassName(j),o=0;o<e.length;o++)e[o].parentNode.removeChild(e[o])}function y(e,t){var o,n,i,r=null,a=0,s=function(){a=0,r=null,i=e.apply(o,n),r||(o=n=null)};return function(){var c=Date.now();a||(a=c);var l=t-(c-a);return o=this,n=arguments,0>=l||l>t?(r&&(clearTimeout(r),r=null),a=c,i=e.apply(o,n),r||(o=n=null)):r||(r=setTimeout(s,l)),i}}function w(t,n){if(P){if("app"===t){P.className+=" grv-widget-app",t="400px",n="100%";var i=e._grv.settings.buttonPosition;P.className+=" grv-widget-app-"+i}else P.style.position=P.style.top=P.style.right=P.style.bottom=P.style.boxShadow="",P.className=P.className.replace(/ grv-widget-app[^ ]*/g,"");t!==o&&(P.style.width=t),n!==o&&(P.style.height=n),q()}}function _(e){L=e,r(S[e])}try{innerWindow.frameElement&&(innerWindow.frameElement.style.display="none")}catch(x){}var E="ca6e6c7",C=100,j="grv-widget-tag",N=3,k={unloaded:1,loader:2,main:3,preloaded:4,app:5},L=k.unloaded,P=void 0,O=void 0,z=void 0,B=void 0,T={left:0,top:0},A=!0,S={};Object.keys(k).map(function(e){return S[k[e]]=[]});var W=y(function(t){var o=Math.sqrt(Math.pow(t.clientX-T.left,2)+Math.pow(t.clientY-T.top,2));C>=o&&(e.removeEventListener("mousemove",W),e.removeEventListener("resize",q),z&&z.defaultView.grv.loadApp(),e.removeEventListener("mousemove",W))},80),q=y(function(e){var t=P.getBoundingClientRect();T.top=t.top+t.height/2,T.left=t.left+t.width/2},100);e._grv.resize=w,e._grv.extendPublicAPI=function(t){"object"==("undefined"==typeof t?"undefined":_typeof(t))&&_extends(e._grv.api,t)},e._grv.setLoadingPhaseByName=function(t,o){e._grv.extendPublicAPI(o),_(k[t])},e._grv.api={setWidgetId:function(e){O=e},setAutoload:function(e){A=e},setLocale:function(e){B=e},load:v,unload:f,open:function(e){L<k.preloaded&&S[k.preloaded].push(["open",e])},close:function(){L<k.preloaded&&S[k.preloaded].push(["close"])},selectPanel:function(e){L<k.preloaded&&S[k.preloaded].push(["selectPanel",e])},setCustomer:function(e){L<k.app&&S[k.app].push(["setCustomer",e])}},n()}(parent.window,parent.document)}
//# sourceMappingURL=loader.js.map
